<app-navigation></app-navigation>


<div class="container" style="font-family: 'Roboto', sans-serif; max-width: 800px; margin-top: 2rem;">
  <!-- Create new post -->
  <div class="mb-4 p-4 border rounded shadow-sm bg-white">
    <h5 class="mb-3">Create a new post</h5>

    <textarea [(ngModel)]="nuevaPublicacion"
              class="form-control mb-3"
              rows="3"
              placeholder="Share a glimpse of your day"></textarea>

    <input type="file"
           (change)="onImageSelected($event)"
           class="form-control mb-3"
           accept="image/*" />

    <button class="btn"
            style="background-color: #0093ab; color: white;"
            (click)="publicar()">
      Post
    </button>
  </div>

  <!-- Post list -->
  <div *ngIf="posts.length === 0" class="text-center text-muted mb-5">
    <p>No posts yet. Be the first to share something! âœ¨</p>
  </div>

  <div *ngFor="let post of posts; trackBy: trackByPostId" class="mb-4 p-4 border rounded shadow-sm bg-white">
    <button class="btn btn-sm btn-outline-danger"
            (click)="eliminar(post)"
            style="float: right;">
      Delete
    </button>

    <p class="fw-bold mb-1">User</p>
    <p class="mb-3">{{ post.contenido }}</p>

    <img *ngIf="post.imagen"
         [src]="post.imagen"
         alt="Image"
         class="img-fluid mb-3 rounded" />
  </div>
</div>